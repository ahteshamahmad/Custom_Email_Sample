version: 2.1

jobs:
  build:
    docker:
      - image: node:14 # Choose the Node.js version you need
    steps:
      - checkout # Checkout the source code
      - run:
          name: Install dependencies
          command: npm install

      # Run tests
      - run:
          name: Run tests
          command: npm test

  # Configure email notifications
  notifications:
    email:
      recipients:
        - altamashfaridi@gmail.com.com
        - ahtesham.ahmad2018@gmail.com
      filters:
        branches:
          ignore: /.*/
      template:
        - build_failed
        - build_success

workflows:
  version: 2
  build_and_notify:
    jobs:
      - build
